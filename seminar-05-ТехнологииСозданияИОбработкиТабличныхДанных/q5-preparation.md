# Oсновы подготовки табличных данных для последующего анализа

`(Data Preparation)` – это процесс сбора, очистки, преобразования и организации сырых данных в структурированный формат, пригодный для построения отчетов, визуализации и построения аналитических моделей.
Основная цель подготовки данных – превратить необработанные, часто "грязные" данные в качественыые.
## Качественные данные характеризуются:
-	Отсутствие ошибок и аномалий.
-	Все необходимые поля заполнены.
-	Данные представлены в едином формате и стандарте.
-	Данные соответствуют рассматриваемому временному периоду.
-	Данные соответствуют целям анализа.

Анализ неподготовленных данных неизбежно приводит к искаженным результатам, ложным корреляциям и, как следствие, к принятию неверных управленческих решений.
Процесс подготовки данных является итеративным и циклическим, но его можно разделить на несколько логических этапов.

## Сбор и консолидация данных
На этом этапе данные извлекаются из различных источников: 
CSV- и Excel-файлов, баз данных (SQL), онлайн-сервисов (через API) и т.д. Задача – объединить всю необходимую информацию в единую таблицу.
### Основные действия:
- Импорт данных в выбранную среду для работы (например, Excel, Google Таблицы, Python с библиотеками Pandas, R).
- Объединение таблиц с использованием операций JOIN (если есть общие ключи) или CONCATENATE / APPEND (для добавления строк из однородных таблиц).
- Определение структуры: каждая строка должна представлять собой отдельное наблюдение (запись), а каждый столбец – отдельную
характеристику (переменную, признак).


## Очистка данных
Это самый объемный и критически важный этап. Его задача – устранение ошибок и несоответствий, мешающих анализу.
### Основные проблемы и методы их решения:
-	Пропущенные значения (Missing Values):\
        Удаление: Удалить строки или столбцы с пропусками (если пропусков мало и их потеря не критична).\
        Заполнение: Заполнить пропуски медианным/средним значением (для числовых данных), модой (для категориальных) или более
сложными методами (интерполяция, прогнозирование).
-	Дубликаты записей: Поиск и удаление полностью идентичных или сильно похожих строк.
-	Аномальные значения (Выбросы - Outliers):\
        Идентификация: с помощью статистических методов (например, правило трех сигм) или визуализации (ящик с усами - boxplot).\
 	      Обработка: удаление, замена на граничные значения или отдельный анализ причин их возникновения.
-	Синтаксические ошибки и нестандартные форматы:\
        Приведение текстовых данных к единому регистру (например, нижнему).\
        Исправление опечаток в категориальных данных (напр., "Мск", "Москва", "мск" -> "Москва").\
        Стандартизация форматов дат ("01.12.2023", "2023-12-01" -> единый формат) и единиц измерения.\

## Преобразование и обогащение данных
 
На этом этапе данные приводятся к виду, который лучше всего подходит для конкретных аналитических алгоритмов.
### Основные действия:
-	Нормализация и стандартизация: Приведение числовых признаков к единому масштабу (например, в диапазон [0, 1] или с средним 0 и стандартным отклонением 1). Это особенно важно для алгоритмов машинного обучения, основанных на расстояниях.
-	Кодирование категориальных переменных: Преобразование текстовых категорий в числа.
-	Label Encoding (присвоение числа каждой категории: "красный"-0, "синий"-1).
-	One-Hot Encoding (создание отдельных бинарных столбцов для каждой категории). Это самый распространенный и безопасный способ для многих моделей.
-	Инженерия признаков (Feature Engineering): Создание новых признаков на основе существующих для улучшения прогнозной силы модели.
-	Извлечение частей даты (день недели, месяц, квартал) из полной даты.
-	Создание агрегированных признаков (средний чек за месяц, количество покупок за год).
-	Группировка редких категорий в общую ("Прочее").


## Проверка данных и их систематизации для последующего анализа
Финальный этап, на котором проверяется, достигли ли данные требуемого уровня качества.
### Критерии проверки:
-	Целостность данных: Проверка связей между таблицами (например, нет ли заказов на несуществующих клиентов).
-	Правильность форматов: Все ли даты, числа и тексты соответствуют заданным форматам.
-	Соответствие бизнес-правилам: Все ли значения находятся в допустимых пределах (например, возраст не может быть отрицательным, скидка не больше 100%).
-	Визуальный осмотр: Просмотр финальной таблицы для выявления очевидных несоответствий.
•	После успешной валидации данные считаются готовыми к загрузке в системы бизнес-аналитики (BI-системы) или для построения моделей машинного обучения.

