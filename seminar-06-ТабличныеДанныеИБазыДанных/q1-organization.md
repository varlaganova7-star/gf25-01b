# Общие принципы организации и хранения данных в базах данных
> **База данных (БД)** – совокупность данных, организованных по определённым правилам, предусматривающим общие принципы описания, хранения и манипулирования данными, независимая от прикладных программ. Эти данные относятся к определённой предметной области и организованы таким образом, что могут быть использованы для решения многих задач многими пользователями.

> **Система управления базами данных (СУБД)** – это специальный вид программного обеспечения, который позволяет управлять и организовывать данные. В отличие от простого хранения данных в файловой системе, СУБД предоставляет удобные механизмы для поиска, обновления, добавления и удаления данных. 

Базы данных нужны для хранения больших объёмов структурированных данных, где важны безопасность, надёжность и возможность интеграции с другими системами. Хранение данных в файлах имеет недостатки, которые делают их менее эффективными для сложных задач.

## Организация данных
К организации данных в системах автоматизированной обработки информации возможны два подхода: 

- Каждый пользователь системы создает наборы данных, необходимых для решения его задач, и пишет программы обработки данных. 

`Например`, в рамках ВУЗа различные подразделения (деканат, отдел кадров, бухгалтерия и т.п.) могут создать свои подсистемы, предназначенные для решения определенных задач. 

- Вся информация, описывающая определенную предметную область, хранится, интегрировано, в единой базе данных (БД) и каждый из пользователей имеет доступ к тем данным, которые необходимы ему для решения его задач.

Один из основных факторов построения базы данных заключается в том, что она должна соответствовать специфическим требованиям конкретной задачи или приложения. Для этого необходимо провести анализ данных, определить структуру и свойства объектов, которые будут храниться в базе данных.  Для построения базы данных необходимо определить ее цели и требования к данным. 

`Например`, если база данных предназначена для хранения информации о клиентах, то необходимо определить, какие данные о клиентах будут храниться, как они будут структурированы и каким образом они будут связаны между собой.

При проектировании базы данных необходимо учитывать следующие принципы:
- Нормализация данных. Данные должны быть разбиты на отдельные таблицы и связаны между собой отношениями. 

- Соответствие типов данных. Каждый столбец в таблице должен иметь соответствующий тип данных, чтобы избежать ошибок при работе с данными.

- Определение первичного ключа. Каждая таблица должна иметь уникальный идентификатор, который позволяет однозначно идентифицировать каждую запись в таблице.

- Установление связей между таблицами. 

- Определение индексов. 

- Определение ограничений на данные. 

## Требования, предъявляемые к БД

| Требование | Описание |
|--------------|------------|
| **Минимальная избыточность. Непротиворечивость**| Данные в БД не должны дублироваться. Избыточность данных, приводит к неоправданно большим расходам памяти и уменьшению времени отклика системы, нарушению непротиворечивости данных.|
| Целостность данных | В БД должны храниться только правильные данные. Разрушение и искажение данных возможно в результате неосторожных действий пользователей, в результате ошибок в программах и сбоев оборудования. |
| Независимость данных | Прикладные программы не должны зависеть от хранимых данных. Это позволяет добавлять в БД новые данные, изменять структуры хранения данных, создавать на БД новые приложения. Ранее созданные программы при этом не должны "чувствовать" эти изменения. |
| Возможность ведения (добавления и удаления) и актуализации (корректировки, модификации) данных | Структура БД должна позволять включать новые и удалять устаревшие данные, корректировать хранимые данные без разрушения логических связей, установленных в схеме БД. |
| Безопасность и секретность | Должна быть обеспечена защита данных от несанкционированного доступа, преднамеренного и непреднамеренного разрушения данных, хищения данных. Наиболее распространенным способом решения этой задачи является система паролей. |
| Высокая производительность. Минимальные затраты | Организация БД и методы доступа к данным должны обеспечивать высокую скорость обработки данных так, чтобы пользователь мог работать с БД в диалоговом режиме. Стоимость обслуживания пользователей не должна быть высокой. |
| Соблюдение стандартов | Представление данных в БД, сопровождающая документация, способ взаимодействия пользователя с БД должны удовлетворять определенным стандартам. Например, без принятия определенных стандартов нельзя было бы организовать сеть Internet.|

## Назначение и основные компоненты системы баз данных

Система БД включает два основных компонента: **базу данных и систему управления базами данных – СУБД.** Большинство СОД (среда общих данных) включают также программы обработки данных (прикладное программное обеспечение, ППО), которые обращаются к данным через СУБД.

СУБД обеспечивает выполнение двух групп функций:

—  предоставление доступа к базе данных прикладному программному обеспечению (или квалифицированным пользователям);

— управление хранением и обработкой данных в БД.

Таким образом, обращение к базе данных возможно только через СУБД.
Пользователи обращаются к базе данных обычно не напрямую через средства СУБД, а с помощью внешнего интерфейса. Если пользователей можно разделить на группы по характеру решаемых задач, то приложений может быть несколько (по количеству задач или групп пользователей). 

## Уровни представления данных
`Концептуальный уровень` архитектуры ANSI/SPARC служит для поддержки единого взгляда на базу данных, общего для всех её приложений и независимого от них и от среды хранения.

`Внутренний уровень` архитектуры поддерживает представление данных в среде хранения и пути доступа к ним.

`Внешний уровень.` Наличие внешнего уровня позволяет поддерживать разное представление одних и тех же данных для различных групп пользователей или задач.

## Физическая организация БД

> Физическое проектирование БД — это отдельный процесс, тесно связанный с логическим проектированием и управлением размещения наборов данных, включающий процесс организации хранения данных с определением формата хранимой записи и классификации записей.

Соответственно возникают следующие разновидности объектов баз данных:
- таблицы — основные объекты базы данных, большей частью непосредственно видимые пользователям;

- последовательности — объекты БД, используемые для формирования уникальных числовых величин; 

- индексы — управляющие структуры, создаваемые по инициативе разработчика (администратора) баз данных или верхнего уровня системы в целях повышения эффективности выполнения запросов и обычно автоматически поддерживаемые нижним уровнем системы;

- представления (views) — хранимые предложения SQL (запросы на выборку), которые можно запросить как таблицу;

- триггеры (triggers) — хранимые процедуры, запускаемые при выполнении определенных действий с таблицей;

- хранимая процедура — выполняемый объект, реализованный с помощью процедурного расширения SQL, которому можно передать аргументы и получить от него сформированные результаты;

- хранимая функция отличается от хранимой процедуры тем, что возвращаемым результатом выполнения функции является некоторое единичное значение;

- хранимые пакеты представляют собой совокупность процедур, переменных и функций, объединенных для выполнения некоторой задачи;

- журнальная информация, поддерживаемая для удовлетворения потребности в надежном хранении данных;

- служебная информация, поддерживаемая для удовлетворения внутренних потребностей нижнего уровня системы (например, информация о связях между таблицами).

## Оптимизация работы с базами данных

1. Создавайте таблицы, не содержащие избыточных данных, — стремитесь к нормализации.

2. Создавайте индексы для сортируемых и объединяемых полей, а также для полей, используемых при задании критериев запроса в SQL-запросах.

3. Определяйте тип данных полей с учетом максимально точно подходящего типа данных. Это поможет уменьшить размеры базы данных и увеличит скорость выполнения операций связи.

5. Первичные и внешние ключи следует по возможности определять только на числовых полях либо на полях типа Дата/время, если это поле входит в составной первичный ключ.

6. Если первичный ключ может быть построен не менее чем на четырех полях — следует заменить его суррогатным ключом.

7. Таблицы справочники-классификаторы создавайте только для реально повторяющихся значений — например, нет смысла в базе данных создавать отдельные справочники-классификаторы для фамилий, имен и отчеств, достаточно в таблице с описанием людей выделить три отдельных поля: Фамилия, Имя, Отчество.

8. Необходимо периодически производить сжатие базы данных.

`Например`, в СУБД MS Access при сжатии базы данных индексы оптимизируются по быстродействию, т. е. для поддержания оптимизации по быстродействию необходимо регулярно выполнять сжатие базы данных. Для такой цели в этой СУБД существует специальная подпрограмма сжатия данных.

9. Следует удалять индексы, необходимость в которых отсутствует.

10. Используйте буферы оперативной памяти для временного хранения данных.

