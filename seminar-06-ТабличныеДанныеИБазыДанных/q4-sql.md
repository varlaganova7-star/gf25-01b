# Язык SQL как инструмент взаимодействия с базами данных
> **SQL (Structured Query Language)** — стандартный язык реляционных баз данных, разработанный в 1986 году (ANSI) и принятый ISO в 1987 году. Позволяет манипулировать данными независимо от платформы.  
## Типы команд SQL
- **DDL** - Язык определения данных. Позволяет создавать и изменять структуру объектов базы данных, например, создавать и удалять таблицы. 
>Основные команды:
> `CREATE TABLE`(создание таблиц), `ALTER TABLE`(изменение структуры таблиц), `DROP TABLE`(удаление таблиц),
> `CREATE INDEX`(создание индексов), `ALTER INDEX`(изменение индексов), `DROP INDEX`(удаление индексов). 

- **DML** - Язык манипулирования данными. Используется для манипулирования информацией внутри объектов реляционной базы данных. 
> Основные команды:
> `INSERT`(добавление данных), `UPDATE`(обновление данных), `DELETE`(удаление данных).

- **DQL** - Язык запросов. Включает всего одну команду, эта команда вместе со своими многочисленными опциями и предложениями используется для формирования запросов к реляционной базе данных. 
> `SELECT`(запросы на выборку данных) — единственная, но мощная команда

- **DCL** - Язык управления данными. Контролирует доступ к информации в базе данных и распределяет привилегии между пользователями.
>Основные команды:
> `GRANT`(предоставление прав), `REVOKE`(отзыв прав).

* **команды администрирования данных** — контроль действий и анализ операций
* **Управление транзакциями** — `COMMIT`(подтверждение транзакции), `ROLLBACK`(откат транзакции), `SAVEPOINT`(точка сохранения).
## Преимущества языка SQL
- Стандартность и независимость от конкретных СУБД
- Возможность переноса между системами
- Реляционная основа языка
- Возможность создания интерактивных запросов
- Возможность программного доступа к БД
- Поддержка архитектуры "клиент-сервер"
- Обеспечение различного представления данных
## Типы данных SQL

-  Символьные типы  
> **`CHAR(n)`** - строка фиксированной длины   
> **`VARCHAR(n)`** - строка переменной длины 

-  Целочисленные типы  
> **`INT/INTEGER`** - целое число (4 байта, ±2.1 млрд)  
> **`SMALLINT`** - короткое целое (2 байта, ±32 тыс)

-  Вещественные типы
 >**`FLOAT`** - число с плавающей точкой (8 байт)  
 >**`SMALLFLOAT`** - уменьшенный FLOAT (4 байта)  
 >**`DECIMAL(p,n)`** - точные десятичные числа (p цифр, n после запятой)  

-  Денежный тип
> **`MONEY`** - аналог DECIMAL с специальным форматированием

-  Дата и время
> **`DATE`** - дата  
> **`TIME`** - время      
> **`DATETIME`** - дата и время  
> **`INTERVAL`** - временной интервал  

-  Двоичные типы
> **`BINARY`**, **`BYTE`**, **`BLOB`** - двоичные данные (изображения, файлы)

-  Последовательные типы
> **`SERIAL`** - автоинкремент (для первичных ключей)   
> **`NULL`** - значение "не определено" для всех типов

## Создание, модификация и удаление таблиц 
### Создание таблицы 
``` sql
CREATE TABLE имя_таблицы 
(<имя_столбца> <тип_столбца> 
[NOT NULL] 
[UNIQUE | PRIMARY KEY] 
[REFERENCES <имя_таблицы> (<имя_столбца>)], ...)
```

- **Обязательные параметры:**

1. Имя таблицы

2. Имена и типы столбцов

- **Дополнительные параметры:**

1. `NOT NULL` - запрет пустых значений

2. `UNIQUE` - уникальность значений

3. `PRIMARY KEY` - первичный ключ

4. `REFERENCES` - внешний ключ
### Добавление столбца 
``` sql
ALTER TABLE <имя_таблицы> ADD     
(<имя_столбца> <тип_столбца>     
[NOT NULL]     
[UNIQUE | PRIMARY KEY]    
[REFERENCES <имя_мастер_таблицы> (<имя_столбца>)]    
,...) 
```
### Модификация столбца 
``` sql
ALTER TABLE <имя_таблицы>   
ALTER COLUMN(<имя_столбца> <тип_столбца>    
[NOT NULL]    
   [UNIQUE | PRIMARY KEY]    
   [REFERENCES <имя_мастер_таблицы> (<имя_столбца>)]    ,...) 
```
### Удаление столбца 
``` sql
ALTER TABLE <имя_таблицы> DROP 
(<имя_столбца> 
,...) 
```
### Удаление таблиц 
``` sql
DROP TABLE <имя_таблицы> 
```
## Операторы манипулирования данными 
### Добавление новой записи в таблицу 
``` sql
INSERT INTO <имя_таблицы> 
[<имя_столбца>,<имя_столбца>,..)] 
VALUES (<значение>,<значение>,..); 
```
>***Особенности:***  
>Список столбцов можно опустить  
>Без указания столбцов - значения для всех полей по порядку `CREATE TABLE`
### Модификация записей 
``` sql 
UPDATE <имя_таблицы> SET <имя_столбца>=<значение>,... 
WHERE <условие>] 
```
>Без `WHERE` - обновляет все записи таблицы
### Удаление записей 
``` sql
DELETE FROM <имя_таблицы> 
[ WHERE <условие> ] 
```
>Без `WHERE` - удаляет все записи таблицы
